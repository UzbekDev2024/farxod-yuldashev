{% extends "base.html" %}
{% load static %}

{% block content %}

    <!-- Header -->
    <header class="ex-header">
      <div class="container">
        <div class="row">
          <div class="col-xl-10 offset-xl-1">
            <h1>Публикации</h1>
          </div>
          <!-- end of col -->
        </div>
        <!-- end of row -->
      </div>
      <!-- end of container -->
    </header>
    <!-- end of ex-header -->
    <!-- end of header -->

    <!-- Basic -->
    <div class="ex-basic-1 pt-4">
      <div class="container">
        <div class="row">
          {% for page_obj in pages_obj %}
          <div class="publication-card bg-dark p-4 rounded mt-3">
            <div class="publation-logos d-flex text-white">
              <span class="mr-2 d-flex align-items-center">
                <i class="fa-regular fa-calendar"></i>
                <span class="date-count ml-1">{{page_obj.publishedDate}}</span>
              </span>
              <span class="mr-2 d-flex align-items-center"
                ><i class="fa-regular fa-eye"></i
                ><span class="see-count ml-1">{{page_obj.views}}</span></span
              >
              <span class="mr-2 d-flex align-items-center"
                ><i class="fa-regular fa-thumbs-up"></i
                ><span class="like-count ml-1">{{page_obj.likeCount}}</span></span
              >
            </div>
            <h5 class="text-white">{{page_obj.author}}</h5>
            <h2>
              <a class="text-white title-link" href="{% url 'project-detail' page_obj.id  %}">
                {{page_obj.title}}
              </a>
            </h2>
            <p class="text-white publication-description">
              {{page_obj.body|truncatechars:30}}
            </p>
          </div>

          {% endfor %}


<!--          <div style="align-content: center">-->
<!--        <nav aria-label="Page navigation example">-->
<!--          <ul class="pagination">-->
<!--              {% if pages_obj.has_previous %}-->
<!--                    <li class="page-item">-->
<!--                      <a class="page-link" href="?page=1" aria-label="Previous">-->
<!--                        <span aria-hidden="true">&laquo;</span>-->
<!--                        <span class="sr-only">Previous</span>-->
<!--                      </a>-->
<!--                    </li>-->
<!--              {% endif %}-->
<!--&lt;!&ndash;            <li class="page-item"><a class="page-link" href="#">1</a></li>&ndash;&gt;-->
<!--            <li class="page-item"><a class="page-link" href="#">{{ pages_obj.number }}</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="?page=pages_obj.paginator.num_pages">{{ pages_obj.paginator.num_pages }}</a></li>-->
<!--              {% if pages_obj.has_next %}-->
<!--            <li class="page-item">-->
<!--&lt;!&ndash;                <a href="?page={{ pages_obj.next_page_number }}">next</a>&ndash;&gt;-->
<!--                <a class="page-link" href="?page={{ pages_obj.next_page_number }}" aria-label="Next">-->
<!--                <span aria-hidden="true">&raquo;</span>-->
<!--                <span class="sr-only">Next</span>-->
<!--              </a>-->
<!--            </li>-->
<!--              {% endif %}-->
<!--          </ul>-->
<!--    </nav>-->
<!--</div>-->

<!--        <div class="pagination">-->
<!--          <span class="step-links">-->
<!--        {% if pages_obj.has_previous %}-->
<!--            <a href="?page=1">&laquo; first</a>-->
<!--            <a href="?page={{ pages_obj.previous_page_number }}">previous</a>-->
<!--        {% endif %}-->

<!--        <span class="current">-->
<!--            Page {{ pages_obj.number }} of {{ pages_obj.paginator.num_pages }}.-->
<!--        </span>-->

<!--        {% if pages_obj.has_next %}-->
<!--            <a href="?page={{ pages_obj.next_page_number }}">next</a>-->
<!--            <a href="?page={{ pages_obj.paginator.num_pages }}">last &raquo;</a>-->
<!--        {% endif %}-->
<!--    </span>-->
<!--</div>-->
<!--        </div>-->
<!--          -->
        <!-- end of row -->
      </div>
          <nav aria-label="Page navigation example">
              <ul class="pagination justify-content-center">
                  {% if pages_obj.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ pages_obj.previous_page_number }}" tabindex="-1">
                      <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
                  </a>
                </li>
                  <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
                  {% endif %}

                <li class="page-item active"><a class="page-link" href="?page={{pages_obj.number}}">{{pages_obj.number}}</a></li>

                  {% if pages_obj.has_next %}
<!--                  <li>...</li>-->
                  <li class="page-item"><a class="page-link" href="?page={{pages_obj.paginator.num_pages}}">{{pages_obj.paginator.num_pages}}</a></li>
                <li class="page-item">
                  <a class="page-link" href="?page={{ pages_obj.next_page_number }}">
                      <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
                  </a>
                </li>
                  {% endif %}
              </ul>
            </nav>
      <!-- end of container -->
    </div>
    <!-- end of ex-basic-1 -->
    <!-- end of basic -->
    </div>

{% endblock content %}